<div class="container my-5">
  <h1 class="mb-4 fw-bold">ðŸ›’ Shopping Cart</h1>

  <!-- Empty Cart -->
  <div *ngIf="cartItems.length === 0" class="text-center py-5">
    <p class="text-muted fs-5 mb-3">Your cart is empty.</p>
    <button class="btn btn-primary px-4" (click)="continueShopping()">
      Continue Shopping
    </button>
  </div>

  <!-- Cart Items -->
  <div *ngIf="cartItems.length > 0" class="row">
    <!-- Cart List -->
    <div class="col-lg-8 mb-4">
      <div
        class="card mb-3 shadow-sm border-0 rounded-3"
        *ngFor="let item of cartItems"
      >
        <div class="card-body py-3">
          <div class="row align-items-center gy-2">
            <!-- Product Image -->
            <div class="col-md-2 text-center">
              <img
                [src]="item.product.thumbnail"
                [alt]="item.product.title"
                class="img-fluid rounded"
                style="height: 80px; width: 80px; object-fit: cover"
              />
            </div>

            <!-- Product Details -->
            <div class="col-md-4">
              <h6 class="fw-semibold mb-1">{{ item.product.title }}</h6>
              <p class="text-muted mb-0">
                ${{ item.product.price | number : "1.2-2" }}
              </p>
            </div>

            <!-- Quantity Controls -->
            <div class="col-md-3 py-2">
              <div class="d-flex align-items-center">
                <!-- Decrease Button -->
                <button
                  class="btn btn-outline-danger"
                  (click)="decreaseQuantity(item)"
                  type="button"
                >
                  <i class="bi bi-dash"></i>
                </button>

                <!-- Quantity Input -->
                <input
                  type="text"
                  class="form-control text-center border-0 bg-light mx-2"
                  [value]="item.quantity"
                  readonly
                  style="width: 60px"
                />

                <!-- Increase Button -->
                <button
                  class="btn btn-outline-primary"
                  (click)="increaseQuantity(item)"
                  type="button"
                >
                  <i class="bi bi-plus"></i>
                </button>
              </div>
            </div>

            <!-- Subtotal -->
            <div class="col-md-2 text-end">
              <strong
                >${{
                  item.product.price * item.quantity | number : "1.2-2"
                }}</strong
              >
            </div>

            <!-- Remove -->
            <div class="col-md-1 text-end">
              <button
                class="btn btn-outline-danger"
                (click)="removeItem(item.product.id)"
              >
                <i class="bi bi-trash"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Order Summary -->
    <div class="col-lg-4">
      <div class="card shadow-sm border-0 rounded-3">
        <div class="card-body">
          <h5 class="fw-bold mb-3">Order Summary</h5>
          <hr />
          <div class="d-flex justify-content-between mb-2">
            <span>Subtotal:</span>
            <strong>${{ total | number : "1.2-2" }}</strong>
          </div>
          <div class="d-flex justify-content-between mb-2">
            <span>Shipping:</span>
            <span class="text-success">Free</span>
          </div>
          <hr />
          <div class="d-flex justify-content-between">
            <span class="fw-semibold">Total:</span>
            <strong class="fs-5 text-success"
              >${{ total | number : "1.2-2" }}</strong
            >
          </div>

          <button
            class="btn btn-primary w-100 mt-3 fw-semibold"
            (click)="checkout()"
          >
            Proceed to Checkout
          </button>

          <button
            class="btn btn-outline-success w-100 mt-2"
            (click)="continueShopping()"
          >
            Continue Shopping
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal-dialog">
  <div class="modal-content">
    <!-- Remove text-center from modal-body -->
    <div class="modal-body">
      <h5 class="modal-title mb-2">Create Account</h5>
      <p class="mb-4">Join StyleHub today</p>

      <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
        <div class="row mb-3">
          <div class="col">
            <label for="firstName" class="form-label">First Name</label>
            <input
              type="text"
              class="form-control"
              id="firstName"
              formControlName="firstName"
              placeholder="First name"
              [class.is-invalid]="
                signUpForm.get('firstName')?.invalid &&
                signUpForm.get('firstName')?.touched
              "
            />
            <div
              class="invalid-feedback"
              *ngIf="
                signUpForm.get('firstName')?.invalid &&
                signUpForm.get('firstName')?.touched
              "
            >
              First name is required
            </div>
          </div>
          <div class="col">
            <label for="lastName" class="form-label">Last Name</label>
            <input
              type="text"
              class="form-control"
              id="lastName"
              formControlName="lastName"
              placeholder="Last name"
              [class.is-invalid]="
                signUpForm.get('lastName')?.invalid &&
                signUpForm.get('lastName')?.touched
              "
            />
            <div
              class="invalid-feedback"
              *ngIf="
                signUpForm.get('lastName')?.invalid &&
                signUpForm.get('lastName')?.touched
              "
            >
              Last name is required
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            formControlName="email"
            placeholder="Enter your email"
            [class.is-invalid]="
              signUpForm.get('email')?.invalid &&
              signUpForm.get('email')?.touched
            "
          />
          <div
            class="invalid-feedback"
            *ngIf="
              signUpForm.get('email')?.invalid &&
              signUpForm.get('email')?.touched
            "
          >
            <span *ngIf="signUpForm.get('email')?.errors?.['required']"
              >Email is required</span
            >
            <span *ngIf="signUpForm.get('email')?.errors?.['email']"
              >Please enter a valid email</span
            >
          </div>
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <div class="input-group">
            <input
              type="password"
              class="form-control"
              id="password"
              formControlName="password"
              placeholder="Create a password"
              [class.is-invalid]="
                signUpForm.get('password')?.invalid &&
                signUpForm.get('password')?.touched
              "
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="togglePassword"
            >
              <i class="bi bi-eye"></i>
            </button>
          </div>
          <div
            class="invalid-feedback"
            *ngIf="
              signUpForm.get('password')?.invalid &&
              signUpForm.get('password')?.touched
            "
          >
            <span *ngIf="signUpForm.get('password')?.errors?.['required']"
              >Password is required</span
            >
            <span *ngIf="signUpForm.get('password')?.errors?.['minlength']"
              >Password must be at least 6 characters</span
            >
          </div>
        </div>

        <div class="mb-3">
          <label for="confirmPassword" class="form-label"
            >Confirm Password</label
          >
          <input
            type="password"
            class="form-control"
            id="confirmPassword"
            formControlName="confirmPassword"
            placeholder="Confirm your password"
            [class.is-invalid]="signUpForm.get('confirmPassword')?.invalid && signUpForm.get('confirmPassword')?.touched || signUpForm.errors?.['passwordMismatch']"
          />
          <div
            class="invalid-feedback"
            *ngIf="
              signUpForm.get('confirmPassword')?.invalid &&
              signUpForm.get('confirmPassword')?.touched
            "
          >
            Confirm password is required
          </div>
          <div
            class="invalid-feedback"
            *ngIf="signUpForm.errors?.['passwordMismatch'] && signUpForm.get('confirmPassword')?.touched"
          >
            Passwords do not match
          </div>
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger">
          {{ errorMessage }}
        </div>

        <button
          type="submit"
          class="btn btn-dark w-100 mb-2"
          [disabled]="isLoading"
        >
          <span *ngIf="isLoading">Creating Account...</span>
          <span *ngIf="!isLoading">Create Account</span>
        </button>

        <p class="text-danger small">
          By creating an account, you agree to our Terms of Service and Privacy
          Policy
        </p>
      </form>
    </div>
    <div class="modal-footer justify-content-between">
      <a
        class="btn btn-outline-primary"
        [routerLink]="['/signin']"
        data-bs-dismiss="modal"
        >Sign In</a
      >
    </div>
  </div>
</div>
